message: SasRec serving from YAML
image: quay.io/vessl-ai/python:3.9-r2
resources:
  cluster: vessl-aws-seoul
  name: cpu-medium
volumes:
  /model:
    model:
      repo: recommender
      version: 1
  /examples: git://github.com/vessl-ai/examples
run:
  cd /examples/recommenders/sasrec && pip install -r requirements.serve.txt && python serve.py --model-path $model_path
env:
  - key: model_path
    value: /model
autoscaling:
  min: 1
  max: 3
  metric: cpu
  target: 60
ports:
  - port: 5000
    name: service
    type: http
launch_immediately: true